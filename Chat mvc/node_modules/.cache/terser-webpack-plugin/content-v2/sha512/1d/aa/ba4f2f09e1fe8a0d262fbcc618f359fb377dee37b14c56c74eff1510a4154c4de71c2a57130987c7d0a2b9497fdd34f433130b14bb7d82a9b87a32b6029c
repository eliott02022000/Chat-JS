{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){e.exports=function(){\"use strict\";var e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function t(){return!(\"undefined\"==typeof window||!window.history||!window.history.pushState)}function n(e,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?\"#\":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&t(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod=\"pushState\",e?this.root=n?e.replace(/\\/$/,\"/\"+this._hash):e.replace(/\\/$/,\"\"):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\\/$/,\"/\"+this._hash)),this._listen(),this.updatePageLinks()}function o(e){return e instanceof RegExp?e:e.replace(/\\/+$/,\"\").replace(/^\\/+/,\"^/\")}function r(e){return e.replace(/\\/$/,\"\").split(\"/\").length}function i(e,t){return r(t)-r(e)}function s(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var r=function(e){var t=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(n.PARAMETER_REGEXP,function(e,o,r){return t.push(r),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:t}}(o(t.route)),i=r.regexp,s=r.paramNames,a=e.replace(/^\\/+/,\"/\").match(i),u=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}(a,s);return!!a&&{match:a,route:t,params:u}}).filter(function(e){return e})}(e,t)[0]||!1}function a(e,t){var n=t.map(function(t){return\"\"===t.route||\"*\"===t.route?e:e.split(new RegExp(t.route+\"($|/)\"))[0]}),r=o(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:r}function u(e,n,o){var r,i=function(e){return e.split(/\\?(.*)?$/)[0]};return void 0===o&&(o=\"#\"),t()&&!n?i(e).split(o)[0]:(r=e.split(o)).length>1?i(r[1]):i(r[0])}function h(t,n,o){if(n&&\"object\"===(void 0===n?\"undefined\":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}return n.prototype={helpers:{match:s,root:a,clean:o,getOnlyURL:u},navigate:function(e,t){var n;return e=e||\"\",this._usePushState?(n=(n=(t?\"\":this._getRoot()+\"/\")+e.replace(/^\\/+/,\"/\")).replace(/([^:])(\\/{2,})/g,\"$1/\"),history[this._historyAPIUpdateMethod]({},\"\",n),this.resolve()):\"undefined\"!=typeof window&&(e=e.replace(new RegExp(\"^\"+this._hash),\"\"),window.location.href=window.location.href.replace(/#$/,\"\").replace(new RegExp(this._hash+\".*$\"),\"\")+this._hash+e),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];if(\"function\"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if(\"/\"===o[0]){var s=o[1];\"object\"===e(o[1])&&(s=o[1].uses),this._defaultHandler={handler:s,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else\"object\"===e(o[0])&&Object.keys(o[0]).sort(i).forEach(function(e){t.on(e,o[0][e])});return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var n,o,r=this,i=(e||this._cLoc()).replace(this._getRoot(),\"\");this._useHash&&(i=i.replace(new RegExp(\"^/\"+this._hash),\"/\"));var a=function(e){return e.split(/\\?(.*)?$/).slice(1).join(\"\")}(e||this._cLoc()),l=u(i,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&a===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=s(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:a,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,h(function(){h(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,a)},o.route.hooks,o.params,r._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(\"\"===l||\"/\"===l||l===this._hash||function(e,n,o){if(t()&&!n)return!1;if(!e.match(o))return!1;var r=e.split(o);return r.length<2||\"\"===r[1]}(l,this._useHash,this._hash))?(h(function(){h(function(){r._callLeave(),r._lastRouteResolved={url:l,query:a,hooks:r._defaultHandler.hooks},r._defaultHandler.handler(a)},r._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&h(function(){h(function(){r._callLeave(),r._lastRouteResolved={url:l,query:a,hooks:r._notFoundHandler.hooks},r._notFoundHandler.handler(a)},r._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),\"undefined\"!=typeof window&&(window.removeEventListener(\"popstate\",this._onLocationChange),window.removeEventListener(\"hashchange\",this._onLocationChange))},updatePageLinks:function(){var e=this;\"undefined\"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener(\"click\",function(n){if((n.ctrlKey||n.metaKey)&&\"a\"==n.target.tagName.toLowerCase())return!1;var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\\/+$/,\"\").replace(/^\\/+/,\"/\")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var r;if(o.name===e)for(r in n=o.route,t)n=n.toString().replace(\":\"+r,t[r]);return n},\"\");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?\"replaceState\":\"pushState\"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){t()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute(\"href\")},hooks:function(e){this._genericHooks=e},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return\"string\"==typeof t&&(t=encodeURI(t)),this._routes.push(\"object\"===(void 0===n?\"undefined\":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc().split(\"?\")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener(\"popstate\",this._onLocationChange);else if(\"undefined\"!=typeof window&&\"onhashchange\"in window)window.addEventListener(\"hashchange\",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return\"undefined\"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):\"\"},_findLinks:function(){return[].slice.call(document.querySelectorAll(\"[data-navigo]\"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},n.PARAMETER_REGEXP=/([:*])(\\w+)/g,n.WILDCARD_REGEXP=/\\*/g,n.REPLACE_VARIABLE_REGEXP=\"([^/]+)\",n.REPLACE_WILDCARD=\"(?:.*)\",n.FOLLOWED_BY_SLASH_REGEXP=\"(?:/$|$)\",n.MATCH_REGEXP_FLAGS=\"\",n}()},function(e,t,n){var o,r,i,s;\n/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\ns=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return\"[object Array]\"===t.call(e)};function o(e){return\"function\"==typeof e}function r(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}function i(e,t){return null!=e&&\"object\"==typeof e&&t in e}var s=RegExp.prototype.test,a=/\\S/;function u(e){return!function(e,t){return s.call(e,t)}(a,e)}var h={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"},l=/\\s*/,c=/\\s+/,d=/\\s*=/,f=/\\s*\\}/,p=/#|\\^|\\/|>|\\{|&|=|!/;function v(e){this.string=e,this.tail=e,this.pos=0}function _(e,t){this.view=e,this.cache={\".\":this.view},this.parent=t}function g(){this.cache={}}v.prototype.eos=function(){return\"\"===this.tail},v.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return\"\";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},v.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail=\"\";break;case 0:t=\"\";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},_.prototype.push=function(e){return new _(e,this)},_.prototype.lookup=function(e){var t,n,r,s=this.cache;if(s.hasOwnProperty(e))t=s[e];else{for(var a,u,h,l=this,c=!1;l;){if(e.indexOf(\".\")>0)for(a=l.view,u=e.split(\".\"),h=0;null!=a&&h<u.length;)h===u.length-1&&(c=i(a,u[h])||(n=a,r=u[h],null!=n&&\"object\"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),a=a[u[h++]];else a=l.view[e],c=i(l.view,e);if(c){t=a;break}l=l.parent}s[e]=t}return o(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){this.cache={}},g.prototype.parse=function(t,o){var i=this.cache,s=t+\":\"+(o||e.tags).join(\":\"),a=i[s];return null==a&&(a=i[s]=function(t,o){if(!t)return[];var i,s,a,h=[],_=[],g=[],y=!1,m=!1;function w(){if(y&&!m)for(;g.length;)delete _[g.pop()];else g=[];y=!1,m=!1}function R(e){if(\"string\"==typeof e&&(e=e.split(c,2)),!n(e)||2!==e.length)throw new Error(\"Invalid tags: \"+e);i=new RegExp(r(e[0])+\"\\\\s*\"),s=new RegExp(\"\\\\s*\"+r(e[1])),a=new RegExp(\"\\\\s*\"+r(\"}\"+e[1]))}R(o||e.tags);for(var E,k,L,b,A,P,S=new v(t);!S.eos();){if(E=S.pos,L=S.scanUntil(i))for(var H=0,x=L.length;H<x;++H)u(b=L.charAt(H))?g.push(_.length):m=!0,_.push([\"text\",b,E,E+1]),E+=1,\"\\n\"===b&&w();if(!S.scan(i))break;if(y=!0,k=S.scan(p)||\"name\",S.scan(l),\"=\"===k?(L=S.scanUntil(d),S.scan(d),S.scanUntil(s)):\"{\"===k?(L=S.scanUntil(a),S.scan(f),S.scanUntil(s),k=\"&\"):L=S.scanUntil(s),!S.scan(s))throw new Error(\"Unclosed tag at \"+S.pos);if(A=[k,L,E,S.pos],_.push(A),\"#\"===k||\"^\"===k)h.push(A);else if(\"/\"===k){if(!(P=h.pop()))throw new Error('Unopened section \"'+L+'\" at '+E);if(P[1]!==L)throw new Error('Unclosed section \"'+P[1]+'\" at '+E)}else\"name\"===k||\"{\"===k||\"&\"===k?m=!0:\"=\"===k&&R(L)}if(P=h.pop())throw new Error('Unclosed section \"'+P[1]+'\" at '+S.pos);return function(e){for(var t,n=[],o=n,r=[],i=0,s=e.length;i<s;++i)switch((t=e[i])[0]){case\"#\":case\"^\":o.push(t),r.push(t),o=t[4]=[];break;case\"/\":r.pop()[5]=t[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(t)}return n}(function(e){for(var t,n,o=[],r=0,i=e.length;r<i;++r)(t=e[r])&&(\"text\"===t[0]&&n&&\"text\"===n[0]?(n[1]+=t[1],n[3]=t[3]):(o.push(t),n=t));return o}(_))}(t,o)),a},g.prototype.render=function(e,t,n,o){var r=this.parse(e,o),i=t instanceof _?t:new _(t);return this.renderTokens(r,i,n,e,o)},g.prototype.renderTokens=function(e,t,n,o,r){for(var i,s,a,u=\"\",h=0,l=e.length;h<l;++h)a=void 0,\"#\"===(s=(i=e[h])[0])?a=this.renderSection(i,t,n,o):\"^\"===s?a=this.renderInverted(i,t,n,o):\">\"===s?a=this.renderPartial(i,t,n,r):\"&\"===s?a=this.unescapedValue(i,t):\"name\"===s?a=this.escapedValue(i,t):\"text\"===s&&(a=this.rawValue(i)),void 0!==a&&(u+=a);return u},g.prototype.renderSection=function(e,t,r,i){var s=this,a=\"\",u=t.lookup(e[1]);if(u){if(n(u))for(var h=0,l=u.length;h<l;++h)a+=this.renderTokens(e[4],t.push(u[h]),r,i);else if(\"object\"==typeof u||\"string\"==typeof u||\"number\"==typeof u)a+=this.renderTokens(e[4],t.push(u),r,i);else if(o(u)){if(\"string\"!=typeof i)throw new Error(\"Cannot use higher-order sections without the original template\");null!=(u=u.call(t.view,i.slice(e[3],e[5]),function(e){return s.render(e,t,r)}))&&(a+=u)}else a+=this.renderTokens(e[4],t,r,i);return a}},g.prototype.renderInverted=function(e,t,o,r){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,o,r)},g.prototype.renderPartial=function(e,t,n,r){if(n){var i=o(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i,r),t,n,i):void 0}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(t,n){var o=n.lookup(t[1]);if(null!=o)return e.escape(o)},g.prototype.rawValue=function(e){return e[1]},e.name=\"mustache.js\",e.version=\"3.0.1\",e.tags=[\"{{\",\"}}\"];var y=new g;return e.clearCache=function(){return y.clearCache()},e.parse=function(e,t){return y.parse(e,t)},e.render=function(e,t,o,r){if(\"string\"!=typeof e)throw new TypeError('Invalid template! Template should be a \"string\" but \"'+(n(i=e)?\"array\":typeof i)+'\" was given as the first argument for mustache#render(template, view, partials)');var i;return y.render(e,t,o,r)},e.to_html=function(t,n,r,i){var s=e.render(t,n,r);if(!o(i))return s;i(s)},e.escape=function(e){return String(e).replace(/[&<>\"'`=\\/]/g,function(e){return h[e]})},e.Scanner=v,e.Context=_,e.Writer=g,e},t&&\"string\"!=typeof t.nodeName?s(t):(r=[t],void 0===(i=\"function\"==typeof(o=s)?o.apply(t,r):o)||(e.exports=i))},function(e,t,n){\"use strict\";n.r(t);var o=n(0),r=n.n(o),i=n(1),s=n.n(i);function a(e,t){fetch(`../src/views/${e}`).then(e=>{e.text().then(e=>{document.querySelector(\"#app\").innerHTML=s.a.render(e,t)})})}var u=new r.a(null,!0,\"#\");u.on({login:function(){a(\"home.html\",{firstname:\"azeazeza\"}),setTimeout(()=>{document.querySelector(\"#moveid\").addEventListener(\"submit\",()=>{var e=document.querySelector(\"#username\").value,t=document.querySelector(\"#password\").value;fetch(\"http://edu2.shareyourtime.fr/apijsv2/auth\",{method:\"POST\",body:\"email=\"+e+\"&password=\"+t,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(e=>e.json()).then(e=>{console.log(e);var t=e.data.token;localStorage.setItem(\"tokenChat\",\"Bearer \"+t),u.navigate(\"/chatroom\")})})},500)},chatroom:function(){a(\"chat.html\"),setInterval(()=>{fetch(\"http://edu2.shareyourtime.fr/apijsv2/messages\",{method:\"GET\",headers:{Authorization:\"Bearer \"+token}}).then(e=>{e.json().then(e=>{console.log(e);for(var t=e.data.length-1;t>=0;t--)if(null==document.querySelector(\"[messageid=m\"+e.data[t].id+\"]\")){var n=document.createElement(\"div\");n.setAttribute(\"messageid\",\"m\"+e.data[t].id);var o=document.createTextNode(e.data[t].nickname+\"  ==>  \"+e.data[t].message+\"  \");n.appendChild(o),showmessages.appendChild(n)}})}).catch(e=>{console.log(\"Il y a eu un problème avec l'opération fetch: \")})},500),submit.addEventListener(\"click\",()=>{fetch(\"http://edu2.shareyourtime.fr/apijsv2/messages\",{method:\"POST\",headers:{Authorization:\"Bearer \"+token,\"Content-Type\":\"application/x-www-form-urlencoded\"},body:\"message=\"+document.getElementById(\"message\").value}).then(()=>{document.querySelector(\"#message\").value=\"\"})})},\"*\":function(){alert(\"hello\")}}).resolve()}]);","extractedComments":[]}